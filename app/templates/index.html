{% extends "base.html" %}
{% block content %}
<h1>Task List</h1>

<ul class="task-list">
    {% for task in tasks %}
    <li class="{{ 'completed' if task.completed else '' }}">
        <div>
            <strong>{{ task.title }}</strong>
            {% if task.deadline %}
                <small> (Due: {{ task.deadline.strftime('%Y-%m-%d') }})</small>
            {% endif %}
            {% if task.category %}
                <small> [{{ task.category.name }}]</small>
            {% endif %}
            <p>{{ task.description }}</p>
        </div>
        <div>
            <a href="{{ url_for('edit_task', task_id=task.id) }}" class="btn btn-primary">Edit</a>
            <a href="{{ url_for('delete_task', task_id=task.id) }}" class="btn btn-danger">Delete</a>
        </div>
    </li>
    {% else %}
    <p>No tasks yet. Add one!</p>
    {% endfor %}
</ul>
{% endblock %}
